<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Balsa Key System</title>
<style>
body {
    background:#0f0f0f;
    color:white;
    font-family:Arial;
    text-align:center;
    margin-top:80px;
}
input {
    padding:12px;
    width:380px;
    font-size:16px;
}
</style>
</head>

<body>

<h1>üîë Balsa Key System</h1>
<p id="status">Kontrol ediliyor...</p>

<input id="keyBox" readonly placeholder="Key burada g√∂r√ºnecek">

<script>
const params = new URLSearchParams(window.location.search);
const cameFromAds = params.get("from") === "lv";

// Aynƒ± oturumda tekrar key verilmesini engelle
if (sessionStorage.getItem("key_used")) {
    document.getElementById("status").innerText =
        "‚ùå Tekrar key almak i√ßin reklamdan tekrar ge√ßmelisin.";
} 
else if (cameFromAds) {
    const now = Date.now();
    const payload = {
        t: now,
        r: crypto.randomUUID()
    };

    const key = btoa(JSON.stringify(payload));
    document.getElementById("keyBox").value = key;
    document.getElementById("status").innerText =
        "‚úÖ Key olu≈üturuldu. Roblox‚Äôa geri d√∂n.";

    sessionStorage.setItem("key_used", "1");
} 
else {
    document.getElementById("status").innerText =
        "‚ùå Key almak i√ßin reklam linkinden gelmelisin.";
}
</script>

</body>
</html>
